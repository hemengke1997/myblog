(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{119:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return m}));var r=t(0),i=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=i.a.createContext({}),u=function(e){var n=i.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},d=function(e){var n=u(e.components);return i.a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},b=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(t),b=r,m=d["".concat(o,".").concat(b)]||d[b]||p[b]||a;return t?i.a.createElement(m,c(c({ref:n},s),{},{components:t})):i.a.createElement(m,c({ref:n},s))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=b;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var s=2;s<a;s++)o[s]=t[s];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"},120:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return o}));var r=t(22),i=t(121);function a(){const{siteConfig:{baseUrl:e="/",url:n}={}}=Object(r.default)();return{withBaseUrl:(t,r)=>function(e,n,t,{forcePrependBaseUrl:r=!1,absolute:a=!1}={}){if(!t)return t;if(t.startsWith("#"))return t;if(Object(i.b)(t))return t;if(r)return n+t;const o=t.startsWith(n)?t:n+t.replace(/^\//,"");return a?e+o:o}(n,e,t,r)}}function o(e,n={}){const{withBaseUrl:t}=a();return t(e,n)}},121:function(e,n,t){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!r(e)}t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return i}))},75:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return d}));var r=t(3),i=t(7),a=(t(0),t(119)),o=t(120),c={title:"\u5b9e\u73b0\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8",id:"juejinImageViewer"},l={unversionedId:"frontEnd/juejinImageViewer",id:"frontEnd/juejinImageViewer",isDocsHomePage:!1,title:"\u5b9e\u73b0\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8",description:"\u5148\u770b\u770b\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8\u6548\u679c",source:"@site/docs\\frontEnd\\\u5b9e\u73b0\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8.md",slug:"/frontEnd/juejinImageViewer",permalink:"/myblog/docs/frontEnd/juejinImageViewer",editUrl:"https://github.com/hemengke1997/myblog/blob/master/docs\\frontEnd\\\u5b9e\u73b0\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8.md",version:"current",lastUpdatedBy:"\u8d3a\u68a6\u67ef",lastUpdatedAt:1609146331,sidebar:"docs",previous:{title:"Docusaurus\u9759\u6001\u7f51\u7ad9\u6846\u67b6",permalink:"/myblog/docs/frontEnd/docusaurus"},next:{title:"\u98ce\u683c\u6307\u5357",permalink:"/myblog/docs/styleGuide/doc1"}},s=[{value:"\u5148\u770b\u770b\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8\u6548\u679c",id:"\u5148\u770b\u770b\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8\u6548\u679c",children:[]},{value:"\u5206\u6790",id:"\u5206\u6790",children:[]},{value:"\u67e5\u770b\u6398\u91d1css",id:"\u67e5\u770b\u6398\u91d1css",children:[]},{value:"\u6211\u7684\u7248\u672c",id:"\u6211\u7684\u7248\u672c",children:[]},{value:"\u6548\u679c\u56fe",id:"\u6548\u679c\u56fe",children:[]},{value:"\u601d\u8003",id:"\u601d\u8003",children:[]}],u={toc:s};function d(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},u,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h3",{id:"\u5148\u770b\u770b\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8\u6548\u679c"},"\u5148\u770b\u770b\u6398\u91d1\u7684\u56fe\u7247\u9884\u89c8\u6548\u679c"),Object(a.b)("img",{src:Object(o.a)("img/juejinImageViewer.gif"),alt:""}),Object(a.b)("h3",{id:"\u5206\u6790"},"\u5206\u6790"),Object(a.b)("ol",null,Object(a.b)("li",{parentName:"ol"},"\u56fe\u7247\u662f\u4ece\u539f\u6765\u7684\u5730\u65b9\u79fb\u52a8\u81f3\u5c4f\u5e55\u5c45\u4e2d\uff0c\u4e14\u79fb\u52a8\u5e26\u6709\u8fc7\u6e21\u6548\u679c"),Object(a.b)("li",{parentName:"ol"},"\u56fe\u7247\u51fa\u73b0\u65f6\u6709\u8499\u5c42\u8fc7\u6e21\u6548\u679c")),Object(a.b)("h3",{id:"\u67e5\u770b\u6398\u91d1css"},"\u67e5\u770b\u6398\u91d1css"),Object(a.b)("img",{src:Object(o.a)("img/juejinImageViewer1.png"),alt:""}),Object(a.b)("p",null,"\u56fe\u7247\u662f\u4f7f\u7528\u7684\u7edd\u5bf9\u5b9a\u4f4d+transition:all\u5b9e\u73b0\u7684\u79fb\u52a8\u548c\u8fc7\u6e21\u6548\u679c"),Object(a.b)("img",{src:Object(o.a)("img/juejinImageViewer2.png"),alt:""}),Object(a.b)("p",null,"\u56fe\u7247\u5305\u88f9\u5c42\u4f7f\u7528\u4e86vue\u7684transition\u7ec4\u4ef6\uff0c\u8499\u5c42\u7684\u8fc7\u6e21\u662f\u5728 fade-enter-active\u4e2d\u5b9e\u73b0\u7684"),Object(a.b)("h3",{id:"\u6211\u7684\u7248\u672c"},"\u6211\u7684\u7248\u672c"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"}),'<template>\n  <div>\n    <img\n      src="../assets/imgs/douyin.png"\n      @click="changeVisible(true)"\n      class="origin-image"\n      alt=""\n      ref="originImage"\n    />\n\n    <transition name="fade">\n      <div class="image-viewer" v-if="visible" @click="changeVisible(false)">\n        <div class="image-box">\n          <img\n            :style="imageStyle"\n            src="../assets/imgs/douyin.png"\n            class="image"\n            alt=""\n          />\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      visible: false,\n      rect: {},\n      imageStyle: "",\n    };\n  },\n  methods: {\n    changeVisible(v) {\n      this.visible = v;\n      this.rect = this.$refs.originImage.getBoundingClientRect();\n      this.setImageStyle();\n    },\n    setImageStyle() {\n      const r = this.rect;\n      this.imageStyle = `top:${r.top}px; left: ${r.left}px;`;\n      const raq = requestAnimationFrame(() => {\n        const top = (window.innerHeight - r.height) / 2;\n        const left = (window.innerWidth - r.width) / 2;\n        this.imageStyle = `width: ${r.width}px;height: ${r.height}px; top:${top}px; left: ${left}px;`;\n        if (window.requestIdleCallback) {\n          // \u7a7a\u95f2\u65f6\u56de\u8c03\n          window.requestIdleCallback(() => {\n            window.cancelAnimationFrame(raq);\n          });\n        } else {\n          window.cancelAnimationFrame(raq);\n        }\n      });\n    },\n  },\n};\n<\/script>\n\n<style scoped>\n.origin-image {\n  width: 200px;\n  height: 200px;\n  margin-left: 300px;\n  margin-top: 300px;\n}\n.image-viewer {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  z-index: 1000;\n}\n.image-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  line-height: 0;\n  background-color: rgba(0, 0, 0, 0.8);\n  overflow: auto;\n}\n.image {\n  position: absolute;\n  transition: all 0.2s;\n  cursor: zoom-out;\n}\n\n.fade-enter {\n  opacity: 0;\n}\n.fade-enter-active {\n  transition: opacity 0.2s;\n}\n.fade-enter-to {\n  opacity: 1;\n}\n</style>\n')),Object(a.b)("h3",{id:"\u6548\u679c\u56fe"},"\u6548\u679c\u56fe"),Object(a.b)("img",{src:Object(o.a)("img/juejinImageViewer3.gif"),alt:""}),Object(a.b)("h3",{id:"\u601d\u8003"},"\u601d\u8003"),Object(a.b)("p",null,"\u53ef\u4ee5\u5c06\u56fe\u7247\u9884\u89c8\u62bd\u79bb\u6210\u5355\u72ec\u7ec4\u4ef6\uff0c\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f\uff0c\u4f7f\u5f97\u9875\u9762\u4e2d\u53ea\u6709\u4e00\u4e2a\u56fe\u7247\u9884\u89c8\u8282\u70b9"))}d.isMDXComponent=!0}}]);